{
  "servers": [
    {
      "name": "mem100x",
      "type": "mem100x",
      "dockerImage": "benchmark-mem100x",
      "startupTime": 2000,
      "connectionConfig": {
        "transport": "stdio"
      }
    }
  ],
  "scenarios": [
    {
      "name": "single-user-session",
      "description": "Simulates a single user's typical interaction session",
      "operations": [
        {
          "type": "create_entities",
          "weight": 0.3,
          "params": {
            "entities": [
              {
                "name": "user-thought-{{timestamp}}-{{index}}",
                "entityType": "thought",
                "observations": [
                  { "type": "text", "text": "User thought about {{randomTopic}}" },
                  { "type": "text", "text": "Context: {{randomContext}}" }
                ]
              }
            ]
          }
        },
        {
          "type": "search_nodes",
          "weight": 0.4,
          "params": {
            "query": "{{randomSearchTerm}}"
          }
        },
        {
          "type": "create_relations",
          "weight": 0.2,
          "params": {
            "relations": [
              {
                "from": "user-thought-{{timestamp}}-{{index}}",
                "to": "user-thought-{{timestamp}}-{{index + 1}}",
                "relationType": "follows_from"
              }
            ]
          }
        },
        {
          "type": "add_observations",
          "weight": 0.1,
          "params": {
            "observations": [
              {
                "entityName": "user-thought-{{timestamp}}-1",
                "contents": [
                  { "type": "text", "text": "Additional context added at {{timestamp}}" },
                  { "type": "text", "text": "Follow-up thought: {{randomThought}}" }
                ]
              }
            ]
          }
        }
      ],
      "iterations": 50,
      "warmupIterations": 5,
      "concurrency": 1
    },
    {
      "name": "multi-user-collaboration",
      "description": "Simulates multiple users working on shared knowledge",
      "operations": [
        {
          "type": "create_entities",
          "weight": 0.25,
          "params": {
            "entities": [
              {
                "name": "collaboration-{{user}}-{{timestamp}}-{{index}}",
                "entityType": "collaboration",
                "observations": [
                  { "type": "text", "text": "{{user}} contributed: {{randomContribution}}" },
                  { "type": "text", "text": "Project: {{randomProject}}" }
                ]
              }
            ]
          }
        },
        {
          "type": "search_nodes",
          "weight": 0.35,
          "params": {
            "query": "{{randomProject}} {{randomSearchTerm}}"
          }
        },
        {
          "type": "create_relations",
          "weight": 0.25,
          "params": {
            "relations": [
              {
                "from": "collaboration-{{user}}-{{timestamp}}-{{index}}",
                "to": "collaboration-{{otherUser}}-{{timestamp}}-{{index + 1}}",
                "relationType": "references"
              }
            ]
          }
        },
        {
          "type": "add_observations",
          "weight": 0.15,
          "params": {
            "observations": [
              {
                "entityName": "collaboration-{{user}}-{{timestamp}}-1",
                "contents": [
                  { "type": "text", "text": "{{user}} added: {{randomAddition}}" },
                  { "type": "text", "text": "Timestamp: {{timestamp}}" }
                ]
              }
            ]
          }
        }
      ],
      "iterations": 100,
      "warmupIterations": 10,
      "concurrency": 3
    },
    {
      "name": "research-workflow",
      "description": "Simulates a researcher building knowledge graphs",
      "operations": [
        {
          "type": "create_entities",
          "weight": 0.4,
          "params": {
            "entities": [
              {
                "name": "research-{{topic}}-{{timestamp}}-{{index}}",
                "entityType": "research",
                "observations": [
                  { "type": "text", "text": "Research finding: {{randomFinding}}" },
                  { "type": "text", "text": "Source: {{randomSource}}" },
                  { "type": "text", "text": "Topic: {{topic}}" }
                ]
              }
            ]
          }
        },
        {
          "type": "search_nodes",
          "weight": 0.3,
          "params": {
            "query": "{{topic}} {{randomResearchTerm}}"
          }
        },
        {
          "type": "create_relations",
          "weight": 0.25,
          "params": {
            "relations": [
              {
                "from": "research-{{topic}}-{{timestamp}}-{{index}}",
                "to": "research-{{topic}}-{{timestamp}}-{{index + 1}}",
                "relationType": "supports"
              }
            ]
          }
        },
        {
          "type": "add_observations",
          "weight": 0.05,
          "params": {
            "observations": [
              {
                "entityName": "research-{{topic}}-{{timestamp}}-1",
                "contents": [
                  { "type": "text", "text": "Additional analysis: {{randomAnalysis}}" },
                  { "type": "text", "text": "Updated: {{timestamp}}" }
                ]
              }
            ]
          }
        }
      ],
      "iterations": 75,
      "warmupIterations": 8,
      "concurrency": 2
    },
    {
      "name": "conversation-memory",
      "description": "Simulates an AI assistant remembering conversation context",
      "operations": [
        {
          "type": "create_entities",
          "weight": 0.35,
          "params": {
            "entities": [
              {
                "name": "conversation-{{session}}-{{timestamp}}-{{index}}",
                "entityType": "conversation",
                "observations": [
                  { "type": "text", "text": "User said: {{randomUserInput}}" },
                  { "type": "text", "text": "Context: {{randomContext}}" },
                  { "type": "text", "text": "Session: {{session}}" }
                ]
              }
            ]
          }
        },
        {
          "type": "search_nodes",
          "weight": 0.45,
          "params": {
            "query": "{{session}} {{randomContext}}"
          }
        },
        {
          "type": "create_relations",
          "weight": 0.15,
          "params": {
            "relations": [
              {
                "from": "conversation-{{session}}-{{timestamp}}-{{index}}",
                "to": "conversation-{{session}}-{{timestamp}}-{{index + 1}}",
                "relationType": "continues"
              }
            ]
          }
        },
        {
          "type": "add_observations",
          "weight": 0.05,
          "params": {
            "observations": [
              {
                "entityName": "conversation-{{session}}-{{timestamp}}-1",
                "contents": [
                  { "type": "text", "text": "AI response: {{randomAIResponse}}" },
                  { "type": "text", "text": "Updated: {{timestamp}}" }
                ]
              }
            ]
          }
        }
      ],
      "iterations": 60,
      "warmupIterations": 6,
      "concurrency": 1
    },
    {
      "name": "batch-processing",
      "description": "Tests realistic batch operations for data import",
      "operations": [
        {
          "type": "create_entities",
          "weight": 0.6,
          "params": {
            "entities": [
              {
                "name": "batch-{{batch}}-{{index}}",
                "entityType": "imported",
                "observations": [
                  { "type": "text", "text": "Imported data point {{index}}" },
                  { "type": "text", "text": "Batch: {{batch}}" },
                  { "type": "text", "text": "Source: {{randomSource}}" }
                ]
              }
            ]
          }
        },
        {
          "type": "create_relations",
          "weight": 0.4,
          "params": {
            "relations": [
              {
                "from": "batch-{{batch}}-{{index}}",
                "to": "batch-{{batch}}-{{index + 1}}",
                "relationType": "next_in_sequence"
              }
            ]
          }
        }
      ],
      "iterations": 20,
      "warmupIterations": 2,
      "concurrency": 1
    },
    {
      "name": "read-heavy-workload",
      "description": "Simulates a read-heavy workload with occasional writes",
      "operations": [
        {
          "type": "search_nodes",
          "weight": 0.7,
          "params": {
            "query": "{{randomSearchTerm}}"
          }
        },
        {
          "type": "create_entities",
          "weight": 0.2,
          "params": {
            "entities": [
              {
                "name": "read-heavy-{{timestamp}}-{{index}}",
                "entityType": "update",
                "observations": [
                  { "type": "text", "text": "New information: {{randomInfo}}" },
                  { "type": "text", "text": "Timestamp: {{timestamp}}" }
                ]
              }
            ]
          }
        },
        {
          "type": "add_observations",
          "weight": 0.1,
          "params": {
            "observations": [
              {
                "entityName": "read-heavy-{{timestamp}}-1",
                "contents": [{ "type": "text", "text": "Updated observation: {{randomUpdate}}" }]
              }
            ]
          }
        }
      ],
      "iterations": 80,
      "warmupIterations": 8,
      "concurrency": 2
    }
  ],
  "options": {
    "timeout": 30000,
    "collectMetrics": true,
    "outputFormat": "table",
    "randomData": {
      "topics": [
        "AI",
        "Machine Learning",
        "Data Science",
        "Programming",
        "Research",
        "Collaboration",
        "Analysis"
      ],
      "users": ["alice", "bob", "charlie", "diana", "eve", "frank", "grace"],
      "projects": [
        "Project Alpha",
        "Project Beta",
        "Project Gamma",
        "Research Initiative",
        "Data Analysis"
      ],
      "sources": ["Paper", "Article", "Book", "Website", "Interview", "Experiment", "Survey"],
      "searchTerms": [
        "algorithm",
        "method",
        "approach",
        "technique",
        "analysis",
        "result",
        "finding",
        "conclusion"
      ],
      "contexts": [
        "meeting",
        "discussion",
        "brainstorming",
        "review",
        "planning",
        "execution",
        "evaluation"
      ],
      "thoughts": [
        "insight",
        "observation",
        "hypothesis",
        "question",
        "idea",
        "concern",
        "suggestion"
      ]
    }
  }
}
